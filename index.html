<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src * 'unsafe-inline'; media-src *; img-src 'self' data: blob:;" />
        <!-- PWA Support -->
        <meta name="theme-color" content="#000000" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="application-name" content="WaterTribes" />
        <meta name="apple-mobile-web-app-title" content="WaterTribes" />
        <meta name="msapplication-starturl" content="./" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="icon" type="image/png" sizes="192x192" href="./assets/icons/icon_192.png" />
        <link rel="apple-touch-icon" type="image/png" sizes="192x192" href="./assets/icons/icon_192.png" />
        <link rel="icon" type="image/png" sizes="512x512" href="./assets/icons/icon_512.png" />
        <link rel="apple-touch-icon" type="image/png" sizes="512x512" href="./assets/icons/icon_512.png" />
        <link rel="shortcut icon" href="favicon.png" type="image/png" />
        <link rel="manifest" href="manifest.json">
        
        <!-- Good default declaration:
        * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
        * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
        * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
            * Enable inline JS: add 'unsafe-inline' to default-src
            * Enable eval(): add 'unsafe-eval' to default-src
        * Create your own at http://cspisawesome.com
        -->
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->
        <script src="js/node_modules/phaser.min.js"></script>
        <script src="js/node_modules/rexgesturesplugin.min.js"></script>
        <script src="js/mainmenu.js"></script>
        <script src="js/game.js"></script>
        <script src="js/minimap.js"></script>
        <script src="js/app.js"></script>
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>WaterTribes</title>
    </head>

    <body>
        <noscript>Please enable javascript to continue using this application.</noscript>
        <div id='content'></div>

        <!--- 
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('/sw.js', {scope: '/'}).then(function(registration) {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    }, function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
                });
            }
            let deferredPrompt;
            window.addEventListener('beforeinstallprompt', function (e) {
                console.log('beforeinstallprompt triggered');
                e.preventDefault();
                deferredPrompt = e;
                modal.style.display = 'block';
            });
            // Get the modal
            var modal = document.getElementById('myModal');
            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName('close')[0];
            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = 'none';
                }
            }
            // When the user clicks on <span> (x), close the modal
            span.onclick = function() {
                modal.style.display = 'none';
            }
            function offlinePrompt() {
                deferredPrompt.prompt();
            }
        </script>
        -->
        
    </body>

</html>
